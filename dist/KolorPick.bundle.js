!function(){"use strict";var t={d:function(i,o){for(var s in o)t.o(o,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},o:function(t,i){return Object.prototype.hasOwnProperty.call(t,i)}},i={};function o(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.d(i,{default:function(){return b}});var s=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var i,s;return i=t,s=[{key:"getPickedPixelOnCtx",value:function(t,i){var o=t.getImageData(i.x,i.y,1,1);return{r:o.data[0],g:o.data[1],b:o.data[2]}}},{key:"rgb2hsl",value:function(i){var o=i.r/255,s=i.g/255,e=i.b/255,r=Math.max(o,s,e),c=Math.min(o,s,e),n=0,h=0,a=(r+c)/2;if(r===c)n=h=0;else{var l=r-c;switch(h=a>.5?l/(2-r-c):l/(r+c),r){case o:n=(s-e)/l+(s<e?6:0);break;case s:n=(e-o)/l+2;break;case e:n=(o-s)/l+4}n/=6}return{h:t.precisionRound(360*n,2),s:t.precisionRound(100*h,2),l:t.precisionRound(100*a,2)}}},{key:"rgb2hsv",value:function(i){var o,s=i.r/255,e=i.g/255,r=i.b/255,c=Math.max(s,e,r),n=Math.min(s,e,r),h=c-n,a=0,l=c;if(o=0===c?0:h/c,c===n)a=0;else{switch(c){case s:a=(e-r)/h+(e<r?6:0);break;case e:a=(r-s)/h+2;break;case r:a=(s-e)/h+4}a/=6}return{h:t.precisionRound(360*a,2),s:t.precisionRound(100*o,2),v:t.precisionRound(100*l,2)}}},{key:"rgb2cmyk",value:function(t){if(0===t.r&&0===t.g&&0===t.b)return{c:0,m:0,y:0,k:1};var i=1-t.r/255,o=1-t.g/255,s=1-t.b/255,e=Math.min(i,Math.min(o,s));return{c:i=Math.round((i-e)/(1-e)*100),m:o=Math.round((o-e)/(1-e)*100),y:s=Math.round((s-e)/(1-e)*100),k:Math.round(100*e)}}},{key:"rgb2hex",value:function(t){var i=function(t){var i=t.toString(16);return 1===i.length?"0"+i.toUpperCase():i.toUpperCase()};return"#".concat(i(t.r)).concat(i(t.g)).concat(i(t.b))}},{key:"precisionRound",value:function(t,i){if(null==t||null==i)return new Error("Utils.precisionRound : Missing arguments value or precision");if("number"!=typeof t||"number"!=typeof i)return new Error("Utils.precisionRound : Invalid type for value or precision");var o=Math.pow(10,i||0);return Math.round(t*o)/o}}],null&&o(i.prototype,null),s&&o(i,s),t}();function e(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=function(){function t(i,o){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this._type=i,this._renderTo=o.renderTo,this._style={bg:o.style&&o.style.bg?o.style.bg:"white",border:o.style&&o.style.border?o.style.border:"black",picker:o.style&&o.style.picker?o.style.picker:"white",padding:o.style&&o.style.padding?o.style.padding:20},this._onColorChange=o.onColorChange,this._canvas={light:null,colors:null},this._ctx={light:null,colors:null},this._isMouseDownOnColor=!1,this._isMouseDownOnLight=!1}var i,o;return i=t,(o=[{key:"destroy",value:function(){var t=this;this._renderTo.removeChild(this._dom.wrapper),this._canvas.colors.removeEventListener("mousedown",this._mouseDownOnColor),this._canvas.light.removeEventListener("mousedown",this._mouseDownOnLight),document.removeEventListener("mousemove",this._mouseMoveOnColor),document.removeEventListener("mousemove",this._mouseMoveOnLight),document.removeEventListener("mouseup",this._mouseUp),Object.keys(this).forEach((function(i){delete t[i]}))}},{key:"_events",value:function(){this._mouseDownOnColor=this._mouseDownOnColor.bind(this),this._mouseMoveOnColor=this._mouseMoveOnColor.bind(this),this._mouseDownOnLight=this._mouseDownOnLight.bind(this),this._mouseMoveOnLight=this._mouseMoveOnLight.bind(this),this._mouseUp=this._mouseUp.bind(this),this._canvas.colors.addEventListener("mousedown",this._mouseDownOnColor),this._canvas.light.addEventListener("mousedown",this._mouseDownOnLight),document.addEventListener("mousemove",this._mouseMoveOnColor),document.addEventListener("mousemove",this._mouseMoveOnLight),document.addEventListener("mouseup",this._mouseUp)}},{key:"_mouseDownOnColor",value:function(t){this._isMouseDownOnColor=!0;var i=this._canvas.colors.getBoundingClientRect(),o=t.clientX-i.left;this._picker.colors.x=o,this._draw()}},{key:"_mouseMoveOnColor",value:function(t){if(this._isMouseDownOnColor){var i=this._canvas.colors.getBoundingClientRect(),o=t.clientX-i.left;o>=this._canvas.colors.width?o=this._canvas.colors.width-1:o<=0&&(o=1),this._picker.colors.x=o,this._draw()}}},{key:"_mouseDownOnLight",value:function(t){this._isMouseDownOnLight=!0;var i=this._canvas.light.getBoundingClientRect(),o=t.clientX-i.left,s=t.clientY-i.top;o>=this._canvas.light.width?o=this._canvas.light.width-1:o<=0&&(o=1),s>=this._canvas.light.height?s=this._canvas.light.height-1:s<=0&&(s=1),this._picker.light.x=o,this._picker.light.y=s,this._draw()}},{key:"_mouseMoveOnLight",value:function(t){if(this._isMouseDownOnLight){var i=this._canvas.light.getBoundingClientRect(),o=t.clientX-i.left,s=t.clientY-i.top;o>=this._canvas.light.width?o=this._canvas.light.width-1:o<=0&&(o=1),s>=this._canvas.light.height?s=this._canvas.light.height-1:s<=0&&(s=1),this._picker.light.x=o,this._picker.light.y=s,this._draw()}}},{key:"_mouseUp",value:function(){this._isMouseDownOnColor=!1,this._isMouseDownOnLight=!1}},{key:"_getPickedColor",value:function(){return s.getPickedPixelOnCtx(this._ctx.colors,this._picker.colors)}},{key:"_getPickedLight",value:function(){return s.getPickedPixelOnCtx(this._ctx.light,this._picker.light)}}])&&e(i.prototype,o),t}();function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function h(t,i){return(h=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function a(t,i){return!i||"object"!==c(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&h(t,i)}(_,t);var i,o,e,r,c=(e=_,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=l(e);if(r){var o=l(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return a(this,t)});function _(t){var i;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,_),(i=c.call(this,"linear",t))._dom={wrapper:null},i._picker={light:{x:0,y:0,r:10},colors:{x:0,y:0,r:8}},i._init(),i._draw(),i._events(),i}return i=_,(o=[{key:"_init",value:function(){this._dom.wrapper=document.createElement("DIV"),this._canvas.colors=document.createElement("CANVAS"),this._canvas.light=document.createElement("CANVAS"),this._dom.wrapper.appendChild(this._canvas.light),this._dom.wrapper.appendChild(this._canvas.colors),this._renderTo.appendChild(this._dom.wrapper),this._dom.wrapper.style.cssText="background-color:".concat(this._style.bg,";display:grid;grid-template-rows:1fr ").concat(2*this._style.padding+2,"px;height:100%;padding:20px;width:100%;"),this._canvas.colors.style.cssText="border:solid 1px ".concat(this._style.border,";margin-top:").concat(this._style.padding,"px;"),this._canvas.light.style.cssText="border:solid 1px ".concat(this._style.border,";height:100%;width:100%;"),this._canvas.light.width=this._dom.wrapper.offsetWidth-2*this._style.padding-2,this._canvas.light.height=this._dom.wrapper.offsetHeight-2*this._style.padding-2*this._style.padding-2,this._ctx.light=this._canvas.light.getContext("2d"),this._ctx.light.translate(.5,.5),this._canvas.colors.width=this._dom.wrapper.offsetWidth-2*this._style.padding-2,this._canvas.colors.height="".concat(this._style.padding),this._ctx.colors=this._canvas.colors.getContext("2d"),this._ctx.colors.translate(.5,.5),this._picker.colors.x=this._canvas.colors.width/2,this._picker.colors.y=this._canvas.colors.height/2,this._picker.light.x=this._canvas.light.width-1,this._picker.light.y=1}},{key:"_draw",value:function(){this._ctx.colors.clearRect(0,0,this._canvas.colors.width,this._canvas.colors.height),this._ctx.light.clearRect(0,0,this._canvas.light.width,this._canvas.light.height);var t=this._ctx.colors.createLinearGradient(0,0,this._canvas.colors.width,0);t.addColorStop(.02,"rgb(255, 0, 0)"),t.addColorStop(.15,"rgb(255, 255, 0)"),t.addColorStop(.33,"rgb(0, 255, 0)"),t.addColorStop(.49,"rgb(0, 255, 255)"),t.addColorStop(.67,"rgb(0, 0, 255)"),t.addColorStop(.84,"rgb(255, 0, 255)"),t.addColorStop(.98,"rgb(255, 0, 0)"),this._ctx.colors.fillStyle=t,this._ctx.colors.fillRect(0,0,this._canvas.colors.width,this._canvas.colors.height);var i=this._getPickedColor();(t=this._ctx.light.createLinearGradient(0,0,this._canvas.light.width,0)).addColorStop(.05,"rgb(255, 255, 255)"),t.addColorStop(.98,"rgb(".concat(i.r,", ").concat(i.g,", ").concat(i.b,")")),this._ctx.light.fillStyle=t,this._ctx.light.fillRect(0,0,this._canvas.light.width,this._canvas.light.height),(t=this._ctx.light.createLinearGradient(0,0,0,this._canvas.light.height)).addColorStop(.05,"rgba(0, 0, 0, 0)"),t.addColorStop(.98,"rgb(0, 0, 0)"),this._ctx.light.fillStyle=t,this._ctx.light.fillRect(0,0,this._canvas.light.width,this._canvas.light.height),this._ctx.colors.beginPath(),this._ctx.colors.arc(this._picker.colors.x,this._picker.colors.y,this._picker.colors.r,0,2*Math.PI),this._ctx.colors.strokeStyle=this._style.picker,this._ctx.colors.lineWidth=3,this._ctx.colors.fillStyle="rgb(".concat(i.r,", ").concat(i.g,", ").concat(i.b,")"),this._ctx.colors.fill(),this._ctx.colors.stroke(),this._ctx.colors.closePath();var o=this._getPickedLight();this._ctx.light.beginPath(),this._ctx.light.arc(this._picker.light.x,this._picker.light.y,this._picker.light.r,0,2*Math.PI),this._ctx.light.strokeStyle=this._style.picker,this._ctx.light.lineWidth=3,this._ctx.light.fillStyle="rgb(".concat(o.r,", ").concat(o.g,", ").concat(o.b,")"),this._ctx.light.fill(),this._ctx.light.stroke(),this._ctx.light.closePath(),this._onColorChange({rgb:o,hsl:s.rgb2hsl(o),hsv:s.rgb2hsv(o),cmyk:s.rgb2cmyk(o),hex:s.rgb2hex(o)})}}])&&n(i.prototype,o),_}(r);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function p(t,i){return(p=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function g(t,i){return!i||"object"!==u(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&p(t,i)}(n,t);var i,o,e,r,c=(e=n,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=v(e);if(r){var o=v(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return g(this,t)});function n(t){var i;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n),(i=c.call(this,"radial",t))._dom={wrapper:null,canvasWraper:null},i._picker={light:{x:0,y:0,r:10},colors:{x:0,y:0,w:8,h:30,a:0}},i._init(),i._draw(),i._events(),i}return i=n,(o=[{key:"_init",value:function(){this._dom.wrapper=document.createElement("DIV"),this._dom.canvasWraper=document.createElement("DIV"),this._canvas.colors=document.createElement("CANVAS"),this._canvas.light=document.createElement("CANVAS"),this._dom.canvasWraper.appendChild(this._canvas.colors),this._dom.canvasWraper.appendChild(this._canvas.light),this._dom.wrapper.appendChild(this._dom.canvasWraper),this._renderTo.appendChild(this._dom.wrapper),this._dom.wrapper.style.cssText="background-color:".concat(this._style.bg,";width:100%;"),this._dom.canvasWraper.style.cssText="padding:".concat(this._style.padding,"px;position:relative;width:100%;"),this._canvas.colors.style.cssText="width:100%",this._canvas.light.style.cssText="border:solid 1px ".concat(this._style.border,";position:absolute;left:calc(20% + ").concat(this._style.padding,"px);top:calc(20% + ").concat(this._style.padding,"px);width:calc(60% - ").concat(2*this._style.padding,"px);"),this._canvas.light.width=60*this._dom.canvasWraper.offsetWidth/100-2*this._style.padding,this._canvas.light.height=60*this._dom.canvasWraper.offsetWidth/100-2*this._style.padding,this._ctx.light=this._canvas.light.getContext("2d"),this._canvas.colors.width=this._dom.canvasWraper.offsetWidth-2*this._style.padding,this._canvas.colors.height=this._dom.canvasWraper.offsetWidth-2*this._style.padding,this._ctx.colors=this._canvas.colors.getContext("2d"),this._picker.colors.x=this._canvas.colors.width/2,this._picker.colors.y=0,this._picker.colors.h=this._canvas.colors.width/15,this._picker.colors.w=this._canvas.colors.width/62,this._picker.colors.a=-90,this._picker.light.x=this._canvas.light.width-1,this._picker.light.y=1}},{key:"_draw",value:function(){this._ctx.colors.clearRect(0,0,this._canvas.colors.width,this._canvas.colors.height),this._ctx.light.clearRect(0,0,this._canvas.light.width,this._canvas.light.height),this._ctx.colors.lineWidth=1,this._ctx.colors.strokeStyle=this._style.border,this._ctx.colors.beginPath(),this._ctx.colors.arc(this._canvas.colors.width/2,this._canvas.colors.height/2,this._canvas.colors.width/2,0,2*Math.PI,!1),this._ctx.colors.stroke(),this._ctx.colors.closePath();for(var t=0;t<=360;++t){var i=(t-2)*Math.PI/180,o=t*Math.PI/180;this._ctx.colors.beginPath(),this._ctx.colors.moveTo(this._canvas.colors.width/2,this._canvas.colors.height/2),this._ctx.colors.arc(this._canvas.colors.width/2,this._canvas.colors.height/2,this._canvas.colors.width/2,i,o,!1),this._ctx.colors.closePath(),this._ctx.colors.fillStyle="hsl(".concat(t,", 100%, 50%)"),this._ctx.colors.fill()}this._ctx.colors.beginPath(),this._ctx.colors.arc(this._canvas.colors.width/2,this._canvas.colors.height/2,this._canvas.colors.width/2-this._picker.colors.h,0,2*Math.PI,!1),this._ctx.colors.stroke(),this._ctx.colors.closePath(),this._ctx.colors.beginPath(),this._ctx.colors.moveTo(this._canvas.colors.width/2,this._canvas.colors.height/2),this._ctx.colors.arc(this._canvas.colors.width/2,this._canvas.colors.height/2,this._canvas.colors.width/2-this._picker.colors.h,0,2*Math.PI,!1),this._ctx.colors.closePath(),this._ctx.colors.fillStyle=this._style.bg,this._ctx.colors.fill();var e=this._getPickedColor(),r=this._ctx.light.createLinearGradient(0,0,this._canvas.light.width,0);r.addColorStop(.05,"rgb(255, 255, 255)"),r.addColorStop(.98,"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")),this._ctx.light.fillStyle=r,this._ctx.light.fillRect(0,0,this._canvas.light.width,this._canvas.light.height),(r=this._ctx.light.createLinearGradient(0,0,0,this._canvas.light.height)).addColorStop(.05,"rgba(0, 0, 0, 0)"),r.addColorStop(.98,"rgb(0, 0, 0)"),this._ctx.light.fillStyle=r,this._ctx.light.fillRect(0,0,this._canvas.light.width,this._canvas.light.height),this._ctx.colors.translate(this._canvas.colors.width/2,this._canvas.colors.height/2),this._ctx.colors.rotate(this._picker.colors.a*Math.PI/180),this._ctx.colors.beginPath(),this._ctx.colors.rect(this._canvas.colors.width/2,0,-this._picker.colors.h,-this._picker.colors.w),this._ctx.colors.closePath(),this._ctx.colors.rotate(-this._picker.colors.a*Math.PI/180),this._ctx.colors.translate(-this._canvas.colors.width/2,-this._canvas.colors.height/2),this._ctx.colors.lineWidth=3,this._ctx.colors.strokeStyle=this._style.picker,this._ctx.colors.stroke();var c=this._getPickedLight();this._ctx.light.beginPath(),this._ctx.light.arc(this._picker.light.x,this._picker.light.y,this._picker.light.r,0,2*Math.PI),this._ctx.light.closePath(),this._ctx.light.strokeStyle=this._style.picker,this._ctx.light.lineWidth=3,this._ctx.light.fillStyle="rgb(".concat(c.r,", ").concat(c.g,", ").concat(c.b,")"),this._ctx.light.fill(),this._ctx.light.stroke(),this._onColorChange({rgb:c,hsl:s.rgb2hsl(c),hsv:s.rgb2hsv(c),cmyk:s.rgb2cmyk(c),hex:s.rgb2hex(c)})}},{key:"_mouseDownOnColor",value:function(t){this._isMouseDownOnColor=!0;var i=this._canvas.colors.getBoundingClientRect(),o=t.clientX-(i.left+this._canvas.colors.width/2),s=t.clientY-(i.top+this._canvas.colors.height/2);this._picker.colors.a=Math.atan2(s,o)*(180/Math.PI),this._picker.colors.x=this._canvas.colors.width/2*Math.cos(2*Math.PI*this._picker.colors.a/360)+this._canvas.colors.width/2,this._picker.colors.y=this._canvas.colors.width/2*Math.sin(2*Math.PI*this._picker.colors.a/360)+this._canvas.colors.width/2,this._picker.colors.y<this._canvas.colors.height/2?this._picker.colors.y+=this._picker.colors.h/2:this._picker.colors.y-=this._picker.colors.h/2,this._draw()}},{key:"_mouseMoveOnColor",value:function(t){if(this._isMouseDownOnColor){var i=this._canvas.colors.getBoundingClientRect(),o=t.clientX-(i.left+this._canvas.colors.width/2),s=t.clientY-(i.top+this._canvas.colors.height/2);this._picker.colors.a=Math.atan2(s,o)*(180/Math.PI),this._picker.colors.x=this._canvas.colors.width/2*Math.cos(2*Math.PI*(this._picker.colors.a/360))+this._canvas.colors.width/2,this._picker.colors.y=this._canvas.colors.width/2*Math.sin(2*Math.PI*(this._picker.colors.a/360))+this._canvas.colors.width/2,this._picker.colors.x<this._canvas.colors.width/2?this._picker.colors.x+=this._picker.colors.h/2:this._picker.colors.x-=this._picker.colors.h/2,this._picker.colors.y<this._canvas.colors.height/2?this._picker.colors.y+=this._picker.colors.h/2:this._picker.colors.y-=this._picker.colors.h/2,this._draw()}}}])&&d(i.prototype,o),n}(r);function y(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var w=function(){function t(i){return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),"linear"===i.type?new _(i):"radial"===i.type?new f(i):void 0}var i,o;return i=t,o=[{key:"version",get:function(){return"0.1.0"}}],null&&y(i.prototype,null),o&&y(i,o),t}();window.KolorPick=w;var b=w;window.KolorPick=i.default}();